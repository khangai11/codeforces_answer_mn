Ямар нэг $a$-ийн хувьд $f(a)$ нь, сонгосон тоонууд нь ялгаатай байхаар, $a_i \ne 0$ байх $i$ бүрийн хувьд $[a_i, i]$ завсраас нэг тоо сонгох боломжийн тоо байна. $a_i \ne 0$ байх $i$-ийн тоог $k$ гэвэл, арай өөрөөр, $[1,n]$ завсраас $k$ ширхэг ялгаатай бүхэл тоо сонгоод $a_i \ne 0$ байх $i$-үүдэд, $j$-д хуваарилагдсан тоо нь $[a_j,j]$ завсарт байхаар хуваарилж өгөх боломжийн тоо гэж сэтгэж болно.

$dp[i][j]=[i,n]$ засраас $j$ ширхэг тоо сонгоод $i,i+1,i+2,...,n$-д хуваарилж өгөөд мөн $a_i,a_{i+1},a_{i+2},...,a_n$-ийн утгуудыг сонгох боломжийн тоо ($1 \le i,j \le n)$ гэсэн dp-ээр бодъё.

$dp[i][j]$-г олохдоо:
* $i$-г сонгоогүй бол $dp[i+1][j]$ ширхэг боломж
* $i$-г сонгосон бол $dp[i+1][j-1]*(n-i+1-(j-1))*i$ ширхэг боломж:

    $i$-г $k$-д хуваарилж өгсөн гэвэл, $i,i+1,i+2,...,n$-ээс $j-1$ ширхэгт нь аль хэдийн тоо хуваарилагдчихсан тул $k$-г сонгох $(n-i+1)-(j-1)$ ширхэг боломжтой ба $a_k$-ийн утга 1-ээс $i$-ийн хооронд байх ёстой.

Хариу нь $\sum_{i=0}^n dp[1][i]$.

**Time complexity: $O(n^2)$**\
[Submission](https://codeforces.com/contest/2119/submission/327604821)
