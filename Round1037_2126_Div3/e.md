$a_1:=p_1$\
$a_n:=s_n$\
$a_i:=ХБЕХ(p_i,s_i)\quad(1<i<n)$\
гээд энэ $a$ нөхцөл хангавал YES, үгүй бол NO.

$a_i$ нь $p_{i-1}$-ийг $p_i$, $s_{i+1}$-ийг $s_i$ болгох үүрэгтэй гээд, үүргээ биелүүлэхийн тулд тус тус ямар ч л байсан $p_i$ болон $s_i$-д хуваагдах ёстой ба биелүүлцэн л бол нөхцөлөө хангахын тулд их байснаас бага байсан нь илүү дээр гэж үзээд $ХБЕХ(p_i,s_i)$ гэж байгаа.

**Time complexity: $O(n\log A)$**\
[Submission](https://codeforces.com/contest/2126/submission/329387409)